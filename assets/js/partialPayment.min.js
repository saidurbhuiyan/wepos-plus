jQuery(document).ready((function(e){const a=e("#update_partial_payment_button");a.on("click",(function(){const t=restApiSettings.restUrl,s=restApiSettings.nonce,r=e("#partial_payment_amount").val(),o=e("#partial_payment_id").val();a.prop("disabled",!0).text("Please wait..."),localStorage.removeItem("partialPaymentMessage"),e.ajax({type:"POST",url:t,beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",s)},data:{order_id:o,partial_amount:r},success:function(e){"success"===e.result?localStorage.setItem("partialPaymentMessage",JSON.stringify({type:"success",message:"Partial payment updated successfully!"})):localStorage.setItem("partialPaymentMessage",JSON.stringify({type:"error",message:"Error: "+e.message})),location.reload()},error:function(e){localStorage.setItem("partialPaymentMessage",JSON.stringify({type:"error",message:"Error: Failed to update partial payment."})),location.reload()}})}));const t=JSON.parse(localStorage.getItem("partialPaymentMessage"));if(t&&t.message){const a="success"===t.type?"woocommerce-message notice notice-success":"woocommerce-error notice notice-error";e(".woocommerce-notices-wrapper").html('<div class="'+a+'">'+t.message+"</div>"),e(".wrap").prepend('<div class="'+a+' is-dismissible"><p>'+t.message+"</p></div>"),localStorage.removeItem("partialPaymentMessage")}}));